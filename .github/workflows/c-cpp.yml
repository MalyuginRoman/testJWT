name: 'C++ CI'

on:
  push:
    branches:
      - main
      - feature/github_actions

jobs:
  build:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true
      - run: sudo apt-get update
      - run: sudo apt-get upgrade -y
      - run: export DEBIAN_FRONTEND=noninteractive
      - run: sudo apt-get install git -y
      - run: sudo apt-get install cmake -y
      - run: sudo apt-get install build-essential -y
      - run: sudo apt-get install zlib1g-dev -y
      - run: sudo apt-get install libcgal-dev -y
      - run: sudo apt-get install nlohmann-json3-dev -y
      - run: sudo apt-get install libgtest-dev -y
      - run: sudo apt-get install libssl-dev -y
      - run: git config --global http.sslverify false
      - run: git clone https://github.com/arun11299/cpp-jwt.git
      - run: cd cpp-jwt && mkdir build && cd build && cmake .. && cmake --build . -j
